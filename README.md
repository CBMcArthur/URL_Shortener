# URL_Shortener
Simple project to create short URLs

## About
This project was used as a coding test, the details of which can be found below.  This was a timed test with a maximum of three hours. The initial commit of this code is what I wrote at the end of those three hours.  Commits beyond the initial one is progress I'm making to clean up and finish the code.

**This is a quick and dirty web project that will:**
  * Shorten a valid URL provided by the user
  * Create a shortened URL specified by the user for a valid URL provided by the user
  * Allow a user to look up a shortened URL
  * Provide a mechanism for cleaning up old shortened URLs

**Files:**
  * create_db.sql: SQL script to create the DB tables and example data.
  * cleanup.php: PHP-based cron script to clean up `urls` DB table.
  * config.php: A small configuration file for DB and URL shortening settings.  
  * display_url.view.php: View after after the form contents are processed successfully.
  * form.view.php: View containig forms for performing the options listed above.
  * functions.php: File containing functions to clean up index.php and attempt at modularization
  * index.php: Index file... users should be directed to this page via web browser
 
## Design Decisions
I made the decision to develop this code using native PHP (no frameworks like CodeIgniter or Laravel) for several reasons.  Since the code needed to be extremely portable so that the code reviewers could examine the source and, potentially, demo the website, a heavy framework like Laravel was undesirable.  Also, the project did not appear to be complex enough to requrie an MVC framework at all.  Therefore I chose to develop in native PHP.  The codebase could be cleaner and more organized using a framework, but time and size was of the essence.

**Generating URLs:**
Prior to this project I never put much thought into how URL shorteners determines the URL it generates. All I was sure of was that there was a short domain (such as http://go.gl) with a seemingly random set of characters. Not knowing how these URLs are generated by actual URL shortening services I came up with my own way.  I borrowed it from a previous project that required generating a unique URL for unsubscribing from e-mail lists.  

I take the full URL, as a string provided by the user, and get the SHA1 hash of it.  I then take a subset of the hash based upon a length variable set in the configuration file.  The domain of the URL shortener is also in the configuration file (http://up.up in this project's case).  This allows the full URL of 'http://google.com/webmaster/tools' to be shortened to 'http://up.up/600dae50'.

There is a potential problem with this method of generating short URLs.  There is the possibility that the selected substring of two SHA1 hashes could be identical.  This will require some change to the shortened URL which is not currently implemented.

## Items not currently implemented:
 * Redirection of short URL.  Due to using an invalid domain name for the shortened form of the URL in config.php, attempting redirection of the shortened URL is useless.  Instead a look-up form is provided to get the full URL from the shortened form.
 * Logging. The original project had a bonus requirement of logging actions taken with this app.  An initial DB has been created, but no events are currently being logged.
